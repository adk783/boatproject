[gd_scene load_steps=8 format=3 uid="uid://bsshd88uiv5uh"]

[ext_resource type="Shader" uid="uid://b1hovqj0uu554" path="res://script/water.gdshader" id="1_s3811"]
[ext_resource type="Script" uid="uid://c65namf7v7pwp" path="res://script/water.gd" id="2_p1n2c"]
[ext_resource type="Resource" uid="uid://drh76h8tl4vkn" path="res://script/ressources/water_ressource.tres" id="3_p1n2c"]

[sub_resource type="PlaneMesh" id="PlaneMesh_qmoj4"]
size = Vector2(800, 800)
subdivide_width = 4000
subdivide_depth = 4000

[sub_resource type="FastNoiseLite" id="FastNoiseLite_p1n2c"]
noise_type = 3
fractal_type = 2

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_ewrsg"]
seamless = true
as_normal_map = true
bump_strength = 1.8
noise = SubResource("FastNoiseLite_p1n2c")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_x4ob8"]
render_priority = 0
shader = ExtResource("1_s3811")
shader_parameter/time = 1.0
shader_parameter/playerPosition = Vector3(0, 0, 0)
shader_parameter/globalPosition = Vector3(0, 0, 0)
shader_parameter/waveCount = 1
shader_parameter/amplitude = PackedFloat32Array(0.24)
shader_parameter/wavelength = PackedFloat32Array(20)
shader_parameter/speed = PackedFloat32Array(0.4)
shader_parameter/direction = PackedVector2Array(1, 0)
shader_parameter/steepness = PackedFloat32Array(6)
shader_parameter/octaves = 21
shader_parameter/albedo = Color(0.000760045, 0.195955, 0.245744, 1)
shader_parameter/metallic = 0.0
shader_parameter/roughness = 0.02
shader_parameter/texture_normal = SubResource("NoiseTexture2D_ewrsg")
shader_parameter/texture_normal2 = SubResource("NoiseTexture2D_ewrsg")

[node name="Node3D2" type="Node3D"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_qmoj4")
surface_material_override/0 = SubResource("ShaderMaterial_x4ob8")
script = ExtResource("2_p1n2c")
wave_settings = ExtResource("3_p1n2c")
